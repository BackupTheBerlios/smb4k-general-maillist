<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [smb4k-general] Can't mount share, permission denied
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/smb4k-general/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:smb4k-general%40lists.berlios.de?Subject=Re%3A%20%5Bsmb4k-general%5D%0A%20%3D%3Futf-8%3Fq%3FCan%3D27t_mount_share%3D2C_permission_denie%3F%3D%20%3D%3Futf-8%3Fq%3Fd%3F%3D&In-Reply-To=%3C1PLW5U-0zspP60%40fwd00.aul.t-online.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000072.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[smb4k-general] Can't mount share, permission denied</H1>
    <B>alexander.reinholdt at t-online.de</B> 
    <A HREF="mailto:smb4k-general%40lists.berlios.de?Subject=Re%3A%20%5Bsmb4k-general%5D%0A%20%3D%3Futf-8%3Fq%3FCan%3D27t_mount_share%3D2C_permission_denie%3F%3D%20%3D%3Futf-8%3Fq%3Fd%3F%3D&In-Reply-To=%3C1PLW5U-0zspP60%40fwd00.aul.t-online.de%3E"
       TITLE="[smb4k-general] Can't mount share, permission denied">alexander.reinholdt at t-online.de
       </A><BR>
    <I>Thu Nov 25 08:17:48 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000072.html">[smb4k-general] Can't mount share, permission denied
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73">[ date ]</a>
              <a href="thread.html#73">[ thread ]</a>
              <a href="subject.html#73">[ subject ]</a>
              <a href="author.html#73">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'll investigate this problem and get back to you.

Best regards
Alexander

-----Original-Nachricht-----
Subject: Re: [smb4k-general] Can't mount share, permission denied
Date: Mon, 22 Nov 2010 22:01:41 +0100
From: Arnim L&#228;uger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/smb4k-general">arnim.laeuger at gmx.net</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/smb4k-general">smb4k-general at lists.berlios.de</A>

&gt;&gt;<i> Couldn't get it to work until I did
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   chmod 777 /home/sth/smb4k/ZNASAP/share
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It existed from a previous trial with smb4k and wasn't removed
</I>&gt;&gt;<i> automatically since mount failed. Premissions were drwxrwx---.
</I>&gt;<i>
</I>&gt;<i> This an odd behavior. As far as I can remember, I never experienced
</I>&gt;<i> something like this.
</I>&gt;<i>
</I>&gt;<i> I checked the permissions on my system and all directories that are
</I>&gt;<i> created by Smb4K have drwxr-xr-x. Did you manually change the
</I>&gt;<i> permissions? Or did you run Smb4K as root?
</I>
I guess that the permissions of newly created directories are derived
from the umask setting, which is 0007 for the sth account. I changed
permissions manually to drwxrwxrwx for analysis purpose once the
directory was created by Smb4K.
And no, I didn't run Smb4K as root.

&gt;&gt;<i> Now the smb4k_mount as root or smb4k gui mounts the share without
</I>problems.
&gt;&gt;<i> But why is rwx required for others? This is very likely the reason for
</I>&gt;&gt;<i> my problem since smb4k creates the mount points on the fly with the
</I>&gt;&gt;<i> user's default umask. I just don't understand why it doesn't work
</I>&gt;&gt;<i> without permissions for world (the configuration of the other machine
</I>&gt;&gt;<i> doesn't require this).
</I>&gt;<i>
</I>&gt;<i> Since you write that Smb4K mounts the share without problems, is your
</I>problem
&gt;<i> fixed or does it persist?
</I>
Smb4K mounts the share if I set the directory permissions manually to
777. But as soon as the share is unmounted, Smb4K will remove the
directory and the next time the newly created directory has insufficient
permissions. So my problem persists: I can't mount shares without manual
interaction from the command line.

So to solve the root cause I need to understand why mounting only works
if the mount point has drwxrwxrwx permissions. I haven't found any clue
on the net yet. And except from the error message, there's no trace to
start debugging with.

Arnim

_______________________________________________
Smb4K-general mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/smb4k-general">Smb4K-general at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/smb4k-general">https://lists.berlios.de/mailman/listinfo/smb4k-general</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000072.html">[smb4k-general] Can't mount share, permission denied
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#73">[ date ]</a>
              <a href="thread.html#73">[ thread ]</a>
              <a href="subject.html#73">[ subject ]</a>
              <a href="author.html#73">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/smb4k-general">More information about the Smb4K-general
mailing list</a><br>
</body></html>
